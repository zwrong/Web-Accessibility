<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>F85 Test - Dialog Position</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }

        .content {
            background: #f9f9f9;
            padding: 20px;
            margin: 20px 0;
        }

        .dialog {
            background: white;
            border: 2px solid #333;
            padding: 20px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            z-index: 100;
        }

        .dialog.open {
            display: block;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
        }

        .overlay.open {
            display: block;
        }
    </style>
</head>

<body>
    <h1>W3C F85 Failure Test Case</h1>
    <p>This page demonstrates dialog not adjacent to trigger in DOM.</p>

    <!-- Trigger button -->
    <button id="open-dialog">Open Dialog</button>

    <!-- Lots of content between trigger and dialog -->
    <div class="content">
        <h2>Other Content Section 1</h2>
        <p>Lots of content here...</p>
        <a href="#">Link in content 1</a>
        <a href="#">Link in content 2</a>
    </div>

    <div class="content">
        <h2>Other Content Section 2</h2>
        <p>More content...</p>
        <button>Other Button 1</button>
        <button>Other Button 2</button>
    </div>

    <div class="content">
        <h2>Other Content Section 3</h2>
        <input type="text" placeholder="Text input">
        <input type="checkbox" id="check1"><label for="check1">Checkbox</label>
    </div>

    <!-- 
    F85 VIOLATION: Dialog is at the END of DOM, far from trigger.
    User has to Tab through all content to reach it.
    The dialog should be adjacent to the trigger in the DOM.
    -->

    <div class="overlay" id="overlay"></div>
    <div class="dialog" id="dialog" role="dialog" aria-labelledby="dialog-title">
        <h2 id="dialog-title">Modal Dialog</h2>
        <p>This dialog is at the end of the DOM!</p>
        <p>According to WCAG F85, it should be adjacent to the trigger button.</p>
        <button id="close-dialog">Close</button>
    </div>

    <script>
        const openBtn = document.getElementById('open-dialog');
        const closeBtn = document.getElementById('close-dialog');
        const dialog = document.getElementById('dialog');
        const overlay = document.getElementById('overlay');

        openBtn.addEventListener('click', () => {
            dialog.classList.add('open');
            overlay.classList.add('open');
        });

        closeBtn.addEventListener('click', () => {
            dialog.classList.remove('open');
            overlay.classList.remove('open');
        });
    </script>
</body>

</html>